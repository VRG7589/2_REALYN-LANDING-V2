<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Realyn.ai: The Growth GPS Every Brand Needs</title>
  <meta name="description" content="Discover your top-performing zip codes with our customer concentration map. Analyze demographics, identify your 80/20 markets, and optimize your marketing spend for maximum ROI." />
  <link rel="icon" type="image/x-icon" href="assets/favicon.ico">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
  <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  
  <!-- MapLibre GL JS -->
  <script src='https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.js'></script>
  <link href='https://unpkg.com/maplibre-gl@3.6.2/dist/maplibre-gl.css' rel='stylesheet' />
  
  <!-- Map Functionality -->
  <script src="map-functionality.js"></script>
  
  <!-- Google Analytics 4 -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D8B3XRWSWJ"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-D8B3XRWSWJ');

    function trackEvent(eventName, eventParams = {}) {
      gtag('event', eventName, eventParams);
      console.log('Event tracked:', eventName, eventParams);
    }

    document.addEventListener('DOMContentLoaded', () => {
      trackEvent('page_view', {
        page_title: document.title,
        page_location: window.location.href,
        page_path: window.location.pathname
      });
    });

    // Initialize EmailJS
    (function() {
      emailjs.init("dIb8RX869g_-a22PL");
    })();
    
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            'brand-green': '#10B981',
            'brand-blue': '#3B82F6',
            'brand-logoblue': '#1A5CB2',
            'brand-navy': '#1E3A8A',
            'brand-orange': '#FF5733',
            'brand-red': '#FF0000',
            'brand-yellow': '#FFD700',
            'brand-light': '#F9FAFB',
            'brand-darkgray': '#344054',
            'brand-gray': '#6B7280'
          },
          fontFamily: {
            sans: ['Inter', 'sans-serif'],
          },
          animation: {
            'fade-in-up': 'fade-in-up 0.8s ease-out both',
            'fade-in': 'fade-in 0.5s ease-out both',
            'slide-up': 'slide-up 0.5s ease-out both',
            'scale-in': 'scale-in 0.3s ease-out both',
          },
          keyframes: {
            'fade-in-up': {
              '0%': { opacity: '0', transform: 'translateY(30px)' },
              '100%': { opacity: '1', transform: 'translateY(0)' }
            },
            'fade-in': {
              '0%': { opacity: '0' },
              '100%': { opacity: '1' }
            },
            'slide-up': {
              '0%': { transform: 'translateY(20px)', opacity: '0' },
              '100%': { transform: 'translateY(0)', opacity: '1' }
            },
            'scale-in': {
              '0%': { transform: 'scale(0.95)', opacity: '0' },
              '100%': { transform: 'scale(1)', opacity: '1' }
            }
          }
        }
      }
    };

    // Dropdown functionality for demographic filters
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize dropdowns
      initializeDropdowns();
      
      // Add event listeners for existing functionality
      document.getElementById('selectAllFilters').addEventListener('click', selectAllFilters);
      document.getElementById('clearAllFilters').addEventListener('click', clearAllFilters);
      document.getElementById('applyFilters').addEventListener('click', applyFilters);
    });

    function initializeDropdowns() {
      const dropdowns = [
        { button: 'genderDropdown', options: 'genderOptions', display: 'genderDisplay', filterClass: 'gender-filter' },
        { button: 'ageDropdown', options: 'ageOptions', display: 'ageDisplay', filterClass: 'age-filter' },
        { button: 'ethnicityDropdown', options: 'ethnicityOptions', display: 'ethnicityDisplay', filterClass: 'ethnicity-filter' },
        { button: 'incomeDropdown', options: 'incomeOptions', display: 'incomeDisplay', filterClass: 'income-filter' },
        { button: 'educationDropdown', options: 'educationOptions', display: 'educationDisplay', filterClass: 'education-filter' }
      ];
      
      dropdowns.forEach(dropdown => {
        const button = document.getElementById(dropdown.button);
        const options = document.getElementById(dropdown.options);
        const display = document.getElementById(dropdown.display);
        const filterClass = dropdown.filterClass;
        
        if (!button || !options || !display) {
          console.log('Missing element for dropdown:', dropdown);
          return; // Skip if elements don't exist
        }
        
        // Toggle dropdown on button click
        button.addEventListener('click', function(e) {
          e.preventDefault();
          e.stopPropagation();
          
          const isOpen = options.classList.contains('show');
          
          // Close all other dropdowns first
          dropdowns.forEach(d => {
            const otherOptions = document.getElementById(d.options);
            const otherButton = document.getElementById(d.button);
            if (otherOptions && otherButton && d.options !== dropdown.options) {
              otherOptions.classList.remove('show');
              const arrow = otherButton.querySelector('svg');
              if (arrow) arrow.style.transform = 'rotate(0deg)';
            }
          });
          
          // Toggle current dropdown
          if (isOpen) {
            options.classList.remove('show');
            const arrow = button.querySelector('svg');
            if (arrow) arrow.style.transform = 'rotate(0deg)';
          } else {
            options.classList.add('show');
            const arrow = button.querySelector('svg');
            if (arrow) arrow.style.transform = 'rotate(180deg)';
          }
        });
        
        // Handle checkbox changes
        const checkboxes = options.querySelectorAll(`.${filterClass}`);
        checkboxes.forEach(checkbox => {
          checkbox.addEventListener('change', function() {
            updateDisplayText(display, filterClass);
          });
        });
      });
      
      // Close dropdowns when clicking outside
      document.addEventListener('click', function(e) {
        if (!e.target.closest('.relative')) {
          dropdowns.forEach(dropdown => {
            const options = document.getElementById(dropdown.options);
            const button = document.getElementById(dropdown.button);
            if (options && button) {
              options.classList.remove('show');
              const arrow = button.querySelector('svg');
              if (arrow) arrow.style.transform = 'rotate(0deg)';
            }
          });
        }
      });
    }
  </script>
  <style>
    body {
      font-family: 'Inter', sans-serif;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
      line-height: 1.5;
    }
    
    .gradient-text {
      background: linear-gradient(135deg, #10B981 0%, #3B82F6 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }
    
    .text-elegant {
      font-weight: 400;
      letter-spacing: -0.02em;
    }
    
    .text-elegant-bold {
      font-weight: 600;
      letter-spacing: -0.025em;
    }
    
    .hover-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .hover-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    /* Add subtle default border for elegant cards */
    .elegant-card {
      background: rgba(255, 255, 255, 0.8);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(0, 0, 0, 0.08);
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    }
    
    .modern-button {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .modern-button:hover {
      transform: scale(1.02);
    }
    
    .animate-fade-in-up {
      animation: fade-in-up 0.8s ease-out both;
    }
    
    .animate-fade-in {
      animation: fade-in 0.5s ease-out both;
    }
    
    .animate-slide-up {
      animation: slide-up 0.5s ease-out both;
    }
    
    .animate-scale-in {
      animation: scale-in 0.3s ease-out both;
    }
    
    @keyframes fade-in-up {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }
    
    @keyframes fade-in {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }
    
    @keyframes slide-up {
      0% { transform: translateY(20px); opacity: 0; }
      100% { transform: translateY(0); opacity: 1; }
    }
    
    @keyframes scale-in {
      0% { transform: scale(0.95); opacity: 0; }
      100% { transform: scale(1); opacity: 1; }
    }
    
    /* Section padding utility */
    .section-padding {
      padding: 4rem 1.5rem;
    }
    
    @media (max-width: 768px) {
      .section-padding {
        padding: 2rem 1rem;
      }
    }

    /* Enhanced map styling */
    .custom-popup .maplibregl-popup-content {
      padding: 0;
      border-radius: 12px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .hero-popup .maplibregl-popup-content {
      padding: 0;
      border-radius: 12px;
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    }
    
    .custom-popup .maplibregl-popup-tip,
    .hero-popup .maplibregl-popup-tip {
      border-top-color: white;
    }
    
    /* Enhanced filter styling */
    select option {
      background-color: white;
      color: #1f2937;
    }
    
    /* Map container enhancements */
    #map, #heroMap {
      border-radius: 8px;
      overflow: hidden;
    }
    
    /* Enhanced button hover effects */
    .modern-button:hover {
      transform: scale(1.02);
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    /* Custom checkbox styling */
    input[type="checkbox"] {
      appearance: none;
      -webkit-appearance: none;
      -moz-appearance: none;
      width: 16px;
      height: 16px;
      border: 2px solid #D1D5DB;
      border-radius: 4px;
      background-color: white;
      cursor: pointer;
      position: relative;
      transition: all 0.2s ease;
    }
    
    input[type="checkbox"]:checked {
      background-color: #10B981;
      border-color: #10B981;
    }
    
    input[type="checkbox"]:checked::after {
      content: '✓';
      position: absolute;
      top: -2px;
      left: 1px;
      color: white;
      font-size: 12px;
      font-weight: bold;
    }
    
    input[type="checkbox"]:hover {
      border-color: #10B981;
      background-color: #F0FDF4;
    }
    
    input[type="checkbox"]:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(16, 185, 129, 0.1);
    }
    
    /* Dropdown styling */
    .relative {
      position: relative;
    }
    
    /* Ensure dropdowns appear above other elements and are properly hidden by default */
    #genderOptions, #ageOptions, #ethnicityOptions, #incomeOptions, #educationOptions {
      z-index: 50;
      display: none; /* Keep this as default hidden state */
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border: 1px solid rgba(255, 255, 255, 0.3);
      border-radius: 8px;
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      max-height: 192px;
      overflow-y: auto;
      margin-top: 4px;
    }
    
    /* Fix the show class to use higher specificity and ensure it works */
    #genderOptions.show, #ageOptions.show, #ethnicityOptions.show, #incomeOptions.show, #educationOptions.show {
      display: block !important;
    }
    
    /* Alternative approach - use a more specific selector */
    div[id$="Options"].show {
      display: block !important;
    }
    
    /* Enhanced dropdown button styling */
    button[id$="Dropdown"] {
      cursor: pointer;
      user-select: none;
    }
    
    button[id$="Dropdown"]:hover {
      background-color: rgba(255, 255, 255, 0.15) !important;
    }
    
    /* Dropdown options container */
    div[id$="Options"] {
      box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
    }
    
    /* Checkbox label hover effect */
    div[id$="Options"] label:hover {
      background-color: #F9FAFB;
    }
  </style>
</head>

<body class="bg-white text-gray-900 font-sans antialiased">

  <!-- Navigation -->
  <nav class="fixed w-full z-50 bg-white shadow-sm border-b border-gray-200/50">
    <div class="max-w-7xl mx-auto px-6 py-3 flex justify-between items-center">
      <a href="index.html" class="flex items-center gap-3 hover:opacity-80 transition-opacity duration-300">
        <img src="assets/Logo.svg" alt="Logo" class="h-8 w-8 object-contain" />
        <div class="text-xl font-bold tracking-tight gradient-text">Realyn.ai</div>
      </a>
        
      <div class="hidden md:flex space-x-6 text-sm font-medium">
        <a href="#how-it-works" class="nav-link text-brand-darkgray hover:text-brand-green transition-all duration-300 rounded-md px-3 py-2 hover:bg-gray-50">How It Works</a>
        <a href="#insights" class="nav-link text-brand-darkgray hover:text-brand-green transition-all duration-300 rounded-md px-3 py-2 hover:bg-gray-50">Insights</a>
        <a href="#pricing" class="nav-link text-brand-darkgray hover:text-brand-green transition-all duration-300 rounded-md px-3 py-2 hover:bg-gray-50">Pricing</a>
        <a href="https://calendly.com/vivek-reddy-goli/15mins-intro-with-vivek" target="_blank" class="bg-brand-green text-white px-4 py-2 rounded-lg hover:bg-brand-green/90 transition-all duration-300 text-sm">Book a Demo</a>
        <a href="https://opsplanner-v1-client.onrender.com" target="_blank" class="border border-brand-green text-brand-green px-4 py-2 rounded-lg hover:bg-brand-green/10 transition-all duration-300 text-sm">Login</a>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="relative bg-gradient-to-br from-brand-green to-brand-blue text-white min-h-screen flex flex-col items-center justify-center px-6 pt-20 pb-12">
    <div class="max-w-7xl mx-auto w-full">
      <div class="text-center mb-8 mt-20">
        <h1 id="hero-heading" class="text-3xl sm:text-4xl md:text-5xl max-w-6xl mx-auto font-bold leading-tight mb-4 text-yellow-300">  Stop Wasting Ad Spend On Guesswork
        </h1>
        <p class="text-base sm:text-lg max-w-4xl mx-auto text-white/95 leading-relaxed mb-4">
          Our Growth GPS shows you exactly why your promos drove +15% growth in Austin while Atlanta underperformed and what you can do next. 
        </p>
      </div>
    </div>
  
    <!-- Clean, narrow separator -->
    <div class="w-16 h-0.5 bg-white/30 mx-auto mb-8"></div>
    
    <div class="max-w-7xl mx-auto w-full">
      <div class="text-center mb-12 animate-fade-in-up">
        <h2 class="text-2xl md:text-3xl font-bold mb-4 text-white text-elegant-bold">
          Start Here: See Where Your Customers Are
        </h2>
        <p class="text-sm sm:text-base text-white/80 font-medium text-elegant">
          Free insights • No brand data required
        </p>
      </div>
      
      <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
        <!-- Demographic Filters -->
        <div class="lg:col-span-1 animate-fade-in-up" style="animation-delay: 0.2s;">
          <div class="bg-white/10 backdrop-blur-sm rounded-2xl p-6 border border-white/20 shadow-xl">
            <h3 class="text-xl font-semibold mb-6 text-white text-elegant-bold">Define Your Target Audience</h3>
            
            <div class="space-y-6">
              <!-- Gender Filter -->
              <div>
                <label class="block text-sm font-medium text-white/90 mb-3">Gender</label>
                <div class="relative">
                  <button type="button" id="genderDropdown" class="w-full px-3 py-2 bg-white/20 text-white border border-white/30 rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-300 transition-all duration-300 text-left flex items-center justify-between">
                    <span id="genderDisplay">Select Gender</span>
                    <svg class="w-4 h-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                  </button>
                  <div id="genderOptions" class="absolute z-10 w-full mt-1 bg-white/95 backdrop-blur-sm border border-white/30 rounded-lg shadow-xl max-h-48 overflow-y-auto">
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="gender-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="male">
                      <span class="text-gray-800">Male</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="gender-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="female">
                      <span class="text-gray-800">Female</span>
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Age Filter -->
              <div>
                <label class="block text-sm font-medium text-white/90 mb-3">Age</label>
                <div class="relative">
                  <button type="button" id="ageDropdown" class="w-full px-3 py-2 bg-white/20 text-white border border-white/30 rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-300 transition-all duration-300 text-left flex items-center justify-between">
                    <span id="ageDisplay">Select Age Range</span>
                    <svg class="w-4 h-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                  </button>
                  <div id="ageOptions" class="absolute z-10 w-full mt-1 bg-white/95 backdrop-blur-sm border border-white/30 rounded-lg shadow-xl max-h-48 overflow-y-auto">
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="age-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="under-20">
                      <span class="text-gray-800">Under 20</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="age-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="20-29">
                      <span class="text-gray-800">20-29</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="age-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="30-39">
                      <span class="text-gray-800">30-39</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="age-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="40-49">
                      <span class="text-gray-800">40-49</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="age-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="50-59">
                      <span class="text-gray-800">50-59</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="age-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="60+">
                      <span class="text-gray-800">60+</span>
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Ethnicity/Race Filter -->
              <div>
                <label class="block text-sm font-medium text-white/90 mb-3">Ethnicity/Race</label>
                <div class="relative">
                  <button type="button" id="ethnicityDropdown" class="w-full px-3 py-2 bg-white/20 text-white border border-white/30 rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-300 transition-all duration-300 text-left flex items-center justify-between">
                    <span id="ethnicityDisplay">Select Ethnicity</span>
                    <svg class="w-4 h-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                  </button>
                  <div id="ethnicityOptions" class="absolute z-10 w-full mt-1 bg-white/95 backdrop-blur-sm border border-white/30 rounded-lg shadow-xl max-h-48 overflow-y-auto">
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="ethnicity-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="white-caucasian">
                      <span class="text-gray-800">White/Caucasian</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="ethnicity-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="black-african-american">
                      <span class="text-gray-800">Black/African American</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="ethnicity-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="native">
                      <span class="text-gray-800">Native</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="ethnicity-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="hispanic">
                      <span class="text-gray-800">Hispanic</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="ethnicity-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="asian">
                      <span class="text-gray-800">Asian</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="ethnicity-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="pacific">
                      <span class="text-gray-800">Pacific</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="ethnicity-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="multiple">
                      <span class="text-gray-800">Multiple</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="ethnicity-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="others">
                      <span class="text-gray-800">Others</span>
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Household Income Filter -->
              <div>
                <label class="block text-sm font-medium text-white/90 mb-3">Household Income</label>
                <div class="relative">
                  <button type="button" id="incomeDropdown" class="w-full px-3 py-2 bg-white/20 text-white border border-white/30 rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-300 transition-all duration-300 text-left flex items-center justify-between">
                    <span id="incomeDisplay">Select Income Range</span>
                    <svg class="w-4 h-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                  </button>
                  <div id="incomeOptions" class="absolute z-10 w-full mt-1 bg-white/95 backdrop-blur-sm border border-white/30 rounded-lg shadow-xl max-h-48 overflow-y-auto">
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="income-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="under-50k">
                      <span class="text-gray-800">Under $50K</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="income-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="50k-75k">
                      <span class="text-gray-800">$50K-$75K</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="income-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="75k-100k">
                      <span class="text-gray-800">$75K-$100K</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="income-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="100k-125k">
                      <span class="text-gray-800">$100K-$125K</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="income-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="125k-150k">
                      <span class="text-gray-800">$125K-$150K</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="income-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="150k-200k">
                      <span class="text-gray-800">$150K-$200K</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="income-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="over-200k">
                      <span class="text-gray-800">Over $200K</span>
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Education Filter -->
              <div>
                <label class="block text-sm font-medium text-white/90 mb-3">Education</label>
                <div class="relative">
                  <button type="button" id="educationDropdown" class="w-full px-3 py-2 bg-white/20 text-white border border-white/30 rounded-lg focus:ring-2 focus:ring-yellow-300 focus:border-yellow-300 transition-all duration-300 text-left flex items-center justify-between">
                    <span id="educationDisplay">Select Education Level</span>
                    <svg class="w-4 h-4 transition-transform duration-200" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
                    </svg>
                  </button>
                  <div id="educationOptions" class="absolute z-10 w-full mt-1 bg-white/95 backdrop-blur-sm border border-white/30 rounded-lg shadow-xl max-h-48 overflow-y-auto">
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="education-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="highschool">
                      <span class="text-gray-800">High School</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="education-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="college">
                      <span class="text-gray-800">College</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="education-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="bachelors">
                      <span class="text-gray-800">Bachelor's Degree</span>
                    </label>
                    <label class="flex items-center px-3 py-2 hover:bg-white/20 cursor-pointer">
                      <input type="checkbox" class="education-filter mr-2 w-4 h-4 text-brand-green bg-white/10 border-white/30 rounded focus:ring-2 focus:ring-yellow-300" value="graduate">
                      <span class="text-gray-800">Graduate Degree</span>
                    </label>
                  </div>
                </div>
              </div>
              
              <!-- Quick Actions -->
              <div class="pt-2">
                <div class="flex gap-2">
                  <button id="selectAllFilters" class="flex-1 px-3 py-2 bg-white/20 text-white text-xs rounded-lg hover:bg-white/30 transition-all duration-300">
                    Select All
                  </button>
                  <button id="clearAllFilters" class="flex-1 px-3 py-2 bg-white/20 text-white text-xs rounded-lg hover:bg-white/300 transition-all duration-300">
                    Clear All
                  </button>
                </div>
              </div>
              
              <button id="applyFilters" class="w-full modern-button bg-gradient-to-r from-yellow-300 to-yellow-400 text-brand-darkgray py-3 px-4 rounded-xl font-semibold text-base hover:shadow-lg transition-all duration-300 transform hover:scale-[1.02] hover:from-yellow-200 hover:to-yellow-300">
                Apply Filters
              </button>
            </div>
          </div>
        </div>
        
        <!-- Interactive Map -->
        <div class="lg:col-span-2 animate-fade-in-up" style="animation-delay: 0.4s;">
          <div class="bg-white rounded-2xl shadow-2xl border-2 border-yellow-300/30 overflow-hidden transform hover:scale-[1.01] transition-all duration-300">
            <div class="bg-gradient-to-r from-brand-green to-brand-blue p-4 text-white">
              <h4 class="text-lg font-semibold text-elegant-bold">US Customer Concentration Map</h4>
              <p class="text-sm text-white/90 text-elegant">Top 50% customer zip codes highlighted</p>
            </div>
            
            <div id="map" class="w-full h-96 bg-gray-100"></div>
            
            <div class="p-4 bg-gradient-to-r from-gray-50 to-gray-100 border-t border-gray-200">
              <div class="flex flex-wrap gap-3 items-center justify-between">
                <div class="flex items-center gap-2 text-sm text-gray-700">
                  <div class="w-3 h-3 bg-brand-green rounded-full shadow-sm"></div>
                  <span class="font-medium">Top 50% Zip Codes</span>
                </div>
                
                <div class="flex gap-2">
                  <button id="viewDataTable" class="px-4 py-2 bg-brand-green text-white rounded-lg hover:bg-brand-green/90 transition-all duration-300 text-sm font-medium shadow-sm hover:shadow-md">
                    View Data Table
                  </button>
                  <button id="downloadMap" class="px-4 py-2 bg-brand-blue text-white rounded-lg hover:bg-brand-blue/90 transition-all duration-300 text-sm font-medium shadow-sm hover:shadow-md">
                    Download Map
                  </button>
                  <button id="downloadReport" class="px-4 py-2 bg-gradient-to-r from-brand-green to-brand-blue text-white rounded-lg hover:from-brand-green/90 hover:to-brand-blue/90 transition-all duration-300 text-sm font-medium shadow-sm hover:shadow-md">
                    Download Report
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Data Table Modal -->
      <div id="dataTableModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
          <div class="bg-white rounded-2xl max-w-6xl w-full max-h-[90vh] overflow-hidden">
            <div class="bg-gradient-to-r from-brand-green to-brand-blue p-6 text-white">
              <div class="flex justify-between items-center">
                <h3 class="text-xl font-semibold text-elegant-bold">Customer Concentration Data Table</h3>
                <button id="closeDataTable" class="text-white hover:text-gray-200 text-2xl">&times;</button>
              </div>
            </div>
            
            <div class="p-6 overflow-auto max-h-[70vh]">
              <div id="dataTableContent" class="text-center py-8">
                <div class="text-gray-500">
                  <svg class="w-16 h-16 mx-auto mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                  </svg>
                  <p class="text-lg font-medium mb-2">Data Table Locked</p>
                  <p class="text-sm">Enter your email to unlock the full data table and download options.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <!-- Email Gate Modal -->
      <div id="emailGateModal" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden">
        <div class="flex items-center justify-center min-h-screen p-4">
          <div class="bg-white rounded-2xl max-w-md w-full">
            <div class="bg-gradient-to-r from-brand-green to-brand-blue p-6 text-white">
              <h3 class="text-xl font-semibold text-elegant-bold">Unlock Full Access</h3>
              <p class="text-sm text-white/90 mt-2 text-elegant">Get the complete data table and download options</p>
            </div>
            
            <div class="p-6">
              <form id="emailGateForm" class="space-y-4">
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Email Address *</label>
                  <input type="email" id="gateEmail" required class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-green focus:border-transparent transition-all" placeholder="Enter your email">
                </div>
                
                <div>
                  <label class="block text-sm font-medium text-gray-700 mb-2">Full Name</label>
                  <input type="text" id="gateName" class="w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-brand-green focus:border-transparent transition-all" placeholder="Enter your full name">
                </div>
                
                <button type="submit" class="w-full modern-button bg-gradient-to-r from-brand-green to-brand-blue text-white py-3 px-4 rounded-xl font-semibold text-base hover:shadow-lg transition-all duration-300 transform hover:scale-[1.02]">
                  Unlock Access
                </button>
              </form>
              
              <button id="closeEmailGate" class="w-full mt-3 px-4 py-2 text-gray-600 hover:text-gray-800 transition-colors text-sm">
                Maybe Later
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Problem Section -->
	<section class="relative bg-white text-brand-navy section-padding overflow-hidden">
        <div class="max-w-6xl mx-auto text-center animate-fade-in-up">
          <h2 class="text-2xl md:text-3xl font-bold mb-5 gradient-text text-elegant-bold">
            Your Team Is Always Fighting Fires—Instead of Preventing Them 
          </h2>
          <p class="text-base mb-8 leading-relaxed max-w-3xl mx-auto text-brand-darkgray text-elegant">
            By the time your team pulls data, wrangle spreadsheets, and build slide decks, the market's already moved. You're making million-dollar decisions based on stale insights. 
          </p>
  
          <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Campaign Attribution Crisis</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Did that 20% sales lift come from your new campaign—or just category-wide growth? Which regions should you scale to next?
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Channel Cannibalization</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Are your DTC promotions stealing customers from retail partners, or actually growing the pie?
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 12a3 3 0 11-6 0 3 3 0 016 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Competitive Blindness</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    A competitor just slashed prices 15%. Where will you lose share, and where can you still hold margin?
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Stockout Roulette</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Which SKUs are about to go OOS—and in which markets? Your forecasts are failing you when you need them most.
                  </p>
                </div>
              </div>
            </div>
          </div>
  
          <div class="mt-10 p-5 bg-gradient-to-r from-brand-green/10 to-brand-blue/10 rounded-xl border border-brand-green/20">
            <p class="text-base leading-relaxed max-w-3xl mx-auto text-brand-navy font-medium text-elegant">
              The reality? Each deep-dive takes 2–3 weeks and zip-code-level granularity to be useful. You need answers in hours, not weeks.
            </p>
          </div>
        </div>
      </section>
      
    <!-- Features / What It Automates Section -->
      <section id="use-cases" class="relative bg-gray-100 text-brand-navy section-padding overflow-hidden">
        <div class="max-w-6xl mx-auto text-center animate-fade-in-up">
          <h2 class="text-2xl md:text-3xl font-bold mb-5 gradient-text text-elegant-bold">
            You dont start a trip without checking the route. Don't run ads without checking Realyn.
          </h2>
          <p class="text-base mb-8 leading-relaxed max-w-3xl mx-auto text-brand-darkgray text-elegant">
            Realyn connects your sales, marketing, inventory, and competitive data into a live intelligence engine that delivers all the insights you wish you had, automatically, every day.
          </p>
  
          <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Campaign Co-Pilot</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Tracks true incremental lift across DTC, retail, and marketplaces—with zip-code precision. Showing which campaigns drive new customers vs. just shift channels.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path>
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Regional Navigator</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Drills into sales drivers by geography, SKU, retailer, and campaign. Identifies your strongest markets and biggest leaks in real-time.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Inventory Sentinel</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Gives early warnings on stockout risks based on demand velocity, forecast accuracy, and campaign performance—before you lose sales.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 10V3L4 14h7v7l9-11h-7z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Launch Tracker</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Monitors if your new product launch is winning or failing. Suggestions to course-correct while you still can.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Competitive Scout</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Monitors competitor pricing, promotions, and availability across all channels. Allowing you to react strategically—not reactively.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Forecast Analyst</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Analyzes why your forecasts missed—marketing spikes, stockouts, seasonal shifts, or competitive actions.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
  
      <!-- Benefits Section -->
      <section class="relative bg-white text-brand-navy section-padding overflow-hidden">
        <div class="max-w-6xl mx-auto text-center animate-fade-in-up">
          <h2 class="text-2xl md:text-3xl font-bold mb-5 gradient-text text-elegant-bold">
            Transform Scattered Data Into Strategic Advantage
          </h2>
          <p class="text-base mb-8 leading-relaxed max-w-3xl mx-auto text-brand-darkgray text-elegant">
        Eliminate weeks of manual analysis. Let your analysts focus on strategy—not data wrangling.
          </p>
  
          <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Maximize ROI</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Optimize spend with zip-code precision. Stop wasting budget on underperforming regions and double down on what works.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Protect Margins</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Give discounts only when necessary. Know exactly when and where to defend against competitive pressure.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Prevent Stockouts</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Get 2–4 week early warnings on inventory risks. Keep your bestsellers in stock when demand spikes.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Lead the Market</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Stay several steps ahead of the competition. Anticipate competitor moves and market shifts instead of reacting to them.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
  
      <!-- How It Works Section -->
      <section id="how-it-works" class="relative bg-gray-100 text-brand-navy section-padding overflow-hidden">
        <div class="max-w-6xl mx-auto text-center animate-fade-in-up">
          <h2 class="text-2xl md:text-3xl font-bold mb-5 gradient-text text-elegant-bold">
            How Realyn Works
          </h2>
          <p class="text-base mb-8 leading-relaxed max-w-3xl mx-auto text-brand-darkgray text-elegant">
            Realyn's proprietary <strong class="text-brand-green">Demand Response Map</strong> connects every campaign, sale, social post, and trend to live context at the SKU × Zip level granularity.  
            This powers a true bottoms-up view of your business, so you can predict and act on what's happening, where, and why.
          </p>
  
          <div class="grid md:grid-cols-2 gap-6 max-w-5xl mx-auto">
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 16H6a2 2 0 01-2-2V6a2 2 0 012-2h8a2 2 0 012 2v2m-6 12h8a2 2 0 002-2v-8a2 2 0 00-2-2h-8a2 2 0 00-2 2v8a2 2 0 002 2z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">40+ Native Integrations</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Instantly connect Shopify, Amazon, Meta, Google, TikTok, NetSuite, and more—no data team required.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">AI Driven Automation</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Always-on agents forecast sales, refresh data, and monitor campaign impact—maintaining live context at the SKU × Zip level.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Customizable Intelligence</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Set your strategic priorities—ROI, customer acquisition, cash flow, inventory turns—and Realyn tracks the impact of every action.
                  </p>
                </div>
              </div>
            </div>
            <div class="hover-card elegant-card p-5 rounded-xl text-left">
              <div class="flex items-start gap-4">
                <div class="flex-shrink-0 flex items-center justify-center w-10 h-10 bg-gradient-to-br from-brand-green/10 to-brand-blue/10 rounded-lg">
                  <svg class="w-5 h-5 text-brand-green" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"></path>
                  </svg>
                </div>
                <div>
                  <h3 class="text-base font-semibold mb-2 text-brand-navy">Enterprise Security</h3>
                  <p class="text-sm leading-relaxed text-brand-darkgray text-elegant">
                    Robust access controls and permissions mirror your RACI matrix—ensuring the right people see the right data.
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      
      <!-- Founder Quote -->
    <section id="About" class="section-padding bg-white">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-xl md:text-2xl font-bold mb-6 text-center text-elegant-bold">Built by Amazon Veterans Who've Seen the Waste</h2>
        <div class="elegant-card p-6 rounded-xl">
          <div class="flex items-center gap-6">
            <!-- Left side - Image placeholder -->
            <div class="w-24 flex-shrink-0">
              <img src="assets/amazon-150.png" alt="Amazon Logo" class="w-20 h-20 object-contain">
            </div>
            
            <!-- Right side - Content (80% width) -->
            <div class="flex-1">
              <div class="flex items-center justify-center mb-4">
               <!-- <div class="w-20 h-20 rounded-full overflow-hidden">
                  <img src="assets/vivek.jpeg" alt="Vivek Reddy Goli" class="w-full h-full object-cover">
                </div> -->
              </div>
              <blockquote class="text-sm text-gray-800 mb-3 italic text-elegant">
                "If you're still reacting to demand, you're already behind. At Amazon, I watched brands lose millions by moving too slow. I built Realyn so CPG teams can execute promos with the speed and precision today's market demands."
              </blockquote>
              <div class="flex items-center justify-center gap-3 mb-3">
                <p class="font-semibold text-gray-700 text-sm">— Vivek Reddy Goli, CEO & Co-founder</p>
                <a href="https://www.linkedin.com/in/vivekreddygoli/" target="_blank" class="text-brand-navy hover:text-brand-green transition-colors">
                  <svg class="w-4 h-4" fill="currentColor" viewBox="0 0 24 24" aria-hidden="true">
                    <path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"/>
                  </svg>
                </a>
              </div>
              <div class="mt-3 text-xs text-gray-600 text-center">
                <p>Amazon Product & Engineering Leader • 10+ years building enterprise systems</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>
      
      <!-- CTA -->
      <section class="section-padding bg-gradient-to-r from-brand-green to-brand-blue text-white">
        <div class="max-w-5xl mx-auto text-center">
          <h2 class="text-2xl md:text-3xl font-bold mb-4 text-elegant-bold">Ready to See Realyn in Action?</h2>
          <p class="text-base mb-6 text-elegant">Take the first step towards transforming your marketing effectiveness today.</p>
          <a href="https://calendly.com/vivek-reddy-goli/15mins-intro-with-vivek" target="_blank" class="modern-button bg-white text-brand-navy px-8 py-3 rounded-xl font-semibold hover:bg-yellow-100 transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl">
            Book Your Demo
          </a>
        
        <div class="mt-6 border-t border-white/20 pt-8 text-center">
          <p class="text-white/70 text-sm text-elegant">
            © 2024 Realyn.ai. All rights reserved.
          </p>
        </div>
        </div>
      </section>
</body>

<script>
  // Smooth scrolling for navigation links
  document.querySelectorAll('a[href^="#"]').forEach(anchor => {
    anchor.addEventListener('click', function (e) {
      e.preventDefault();
      const target = document.querySelector(this.getAttribute('href'));
      if (target) {
        target.scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      }
    });
  });

  // Lead form submission - removed as leadForm element doesn't exist
  // If you need this functionality, add a form with id="leadForm" to your HTML

  // Intersection Observer for animations
  const observerOptions = {
    threshold: 0.1,
    rootMargin: '0px 0px -50px 0px'
  };

  const observer = new IntersectionObserver((entries) => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        entry.target.style.opacity = '1';
        entry.target.style.transform = 'translateY(0)';
      }
    });
  }, observerOptions);

  // Observe all animated elements
  document.querySelectorAll('.animate-fade-in-up, .animate-fade-in, .animate-slide-up, .animate-scale-in').forEach(el => {
    el.style.opacity = '0';
    el.style.transform = 'translateY(30px)';
    observer.observe(el);
  });

  // MapLibre Map Initialization
  let map;
  let heroMap;
  let isEmailUnlocked = false;
  
  // Sample zip code data (in real implementation, this would come from your backend)
  const sampleZipCodes = [
    { zip: '10001', lat: 40.7505, lng: -73.9965, city: 'New York', state: 'NY', concentration: 0.85, customers: 1250 },
    { zip: '10002', lat: 40.7168, lng: -73.9861, city: 'New York', state: 'NY', concentration: 0.78, customers: 980 },
    { zip: '90210', lat: 34.1030, lng: -118.4105, city: 'Beverly Hills', state: 'CA', concentration: 0.92, customers: 2100 },
    { zip: '90211', lat: 34.0664, lng: -118.3801, city: 'Beverly Hills', state: 'CA', concentration: 0.81, customers: 1560 },
    { zip: '33101', lat: 25.7743, lng: -80.1937, city: 'Miami', state: 'FL', concentration: 0.76, customers: 890 },
    { zip: '33102', lat: 25.7864, lng: -80.1960, city: 'Miami', state: 'FL', concentration: 0.73, customers: 720 },
    { zip: '60601', lat: 41.8857, lng: -87.6225, city: 'Chicago', state: 'IL', concentration: 0.79, customers: 1340 },
    { zip: '60602', lat: 41.8857, lng: -87.6225, city: 'Chicago', state: 'IL', concentration: 0.82, customers: 1680 },
    { zip: '77001', lat: 29.7604, lng: -95.3698, city: 'Houston', state: 'TX', concentration: 0.75, customers: 920 },
    { zip: '77002', lat: 29.7604, lng: -95.3698, city: 'Houston', state: 'TX', concentration: 0.71, customers: 780 }
  ];
  
  // Initialize map when page loads
  document.addEventListener('DOMContentLoaded', function() {
    initializeMap();
    initializeHeroMap();
    setupEventListeners();
  });
  
  function initializeMap() {
    map = new maplibregl.Map({
      container: 'map',
      style: 'https://api.maptiler.com/maps/streets/style.json?key=YOUR_MAPTILER_KEY', // Replace with your key
      center: [-98.5795, 39.8283], // Center of US
      zoom: 4,
      attributionControl: false
    });
    
    // Add navigation controls
    map.addControl(new maplibregl.NavigationControl(), 'top-right');
    
    // Add zip code markers when map loads
    map.on('load', function() {
      addZipCodeMarkers(sampleZipCodes);
    });
  }
  
  function initializeHeroMap() {
    heroMap = new maplibregl.Map({
      container: 'heroMap',
      style: 'https://api.maptiler.com/maps/streets/style.json?key=YOUR_MAPTILER_KEY', // Replace with your key
      center: [-98.5795, 39.8283], // Center of US
      zoom: 3.5,
      attributionControl: false,
      interactive: true
    });
    
    // Add zip code markers when hero map loads
    heroMap.on('load', function() {
      addHeroMapMarkers(sampleZipCodes);
      
      // Add click event to show this is interactive
      heroMap.on('click', function() {
        // Scroll to the main map section
        document.getElementById('lead-magnet').scrollIntoView({
          behavior: 'smooth',
          block: 'start'
        });
      });
    });
  }
  
  function addZipCodeMarkers(zipCodes) {
    // Remove existing markers
    const existingMarkers = document.querySelectorAll('.zip-marker');
    existingMarkers.forEach(marker => marker.remove());
    
    zipCodes.forEach(zipCode => {
      // Create marker element with enhanced styling
      const markerEl = document.createElement('div');
      markerEl.className = 'zip-marker';
      markerEl.style.width = '24px';
      markerEl.style.height = '24px';
      markerEl.style.borderRadius = '50%';
      markerEl.style.backgroundColor = '#10B981';
      markerEl.style.border = '3px solid white';
      markerEl.style.boxShadow = '0 4px 12px rgba(16, 185, 129, 0.4), 0 2px 4px rgba(0,0,0,0.1)';
      markerEl.style.cursor = 'pointer';
      markerEl.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
      
      // Add hover effect
      markerEl.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.3)';
        this.style.backgroundColor = '#F59E0B';
        this.style.boxShadow = '0 6px 20px rgba(245, 158, 11, 0.6), 0 4px 8px rgba(0,0,0,0.15)';
      });
      
      markerEl.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1)';
        this.style.backgroundColor = '#10B981';
        this.style.boxShadow = '0 4px 12px rgba(16, 185, 129, 0.4), 0 2px 4px rgba(0,0,0,0.1)';
      });
      
      // Create enhanced popup
      const popup = new maplibregl.Popup({ 
        offset: 25,
        className: 'custom-popup'
      }).setHTML(`
        <div class="p-4 bg-white rounded-xl shadow-xl border border-gray-200">
          <h3 class="font-bold text-lg text-brand-darkgray mb-2">${zipCode.zip}</h3>
          <p class="text-sm text-gray-600 mb-3">${zipCode.city}, ${zipCode.state}</p>
          <div class="space-y-2">
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-600">Customer Concentration:</span>
              <span class="text-sm font-bold text-brand-green">${(zipCode.concentration * 100).toFixed(0)}%</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-600">Customers:</span>
              <span class="text-sm font-bold text-brand-darkgray">${zipCode.customers.toLocaleString()}</span>
            </div>
          </div>
        </div>
      `);
      
      // Add marker to map
      const marker = new maplibregl.Marker(markerEl)
        .setLngLat([zipCode.lng, zipCode.lat])
        .setPopup(popup)
        .addTo(map);
    });
  }
  
  function addHeroMapMarkers(zipCodes) {
    // Remove existing markers
    const existingMarkers = document.querySelectorAll('.hero-zip-marker');
    existingMarkers.forEach(marker => marker.remove());
    
    zipCodes.forEach(zipCode => {
      // Create enhanced marker element for hero map
      const markerEl = document.createElement('div');
      markerEl.className = 'hero-zip-marker';
      markerEl.style.width = '20px';
      markerEl.style.height = '20px';
      markerEl.style.borderRadius = '50%';
      markerEl.style.backgroundColor = '#10B981';
      markerEl.style.border = '2px solid white';
      markerEl.style.boxShadow = '0 3px 8px rgba(16, 185, 129, 0.5), 0 1px 3px rgba(0,0,0,0.2)';
      markerEl.style.cursor = 'pointer';
      markerEl.style.transition = 'all 0.3s cubic-bezier(0.4, 0, 0.2, 1)';
      
      // Enhanced hover effect
      markerEl.addEventListener('mouseenter', function() {
        this.style.transform = 'scale(1.8)';
        this.style.backgroundColor = '#F59E0B';
        this.style.boxShadow = '0 5px 15px rgba(245, 158, 11, 0.7), 0 3px 6px rgba(0,0,0,0.2)';
      });
      
      markerEl.addEventListener('mouseleave', function() {
        this.style.transform = 'scale(1)';
        this.style.backgroundColor = '#10B981';
        this.style.boxShadow = '0 3px 8px rgba(16, 185, 129, 0.5), 0 1px 3px rgba(0,0,0,0.2)';
      });
      
      // Create enhanced popup for hero map
      const popup = new maplibregl.Popup({ 
        offset: 25,
        className: 'hero-popup'
      }).setHTML(`
        <div class="p-4 bg-white rounded-xl shadow-xl border border-gray-200">
          <h3 class="font-bold text-lg text-brand-darkgray mb-2">${zipCode.zip}</h3>
          <p class="text-sm text-gray-600 mb-3">${zipCode.city}, ${zipCode.state}</p>
          <div class="space-y-2 mb-3">
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-600">Customer Concentration:</span>
              <span class="text-sm font-bold text-brand-green">${(zipCode.concentration * 100).toFixed(0)}%</span>
            </div>
            <div class="flex justify-between items-center">
              <span class="text-sm text-gray-600">Customers:</span>
              <span class="text-sm font-bold text-brand-darkgray">${zipCode.customers.toLocaleString()}</span>
            </div>
          </div>
          <div class="text-xs text-brand-blue font-medium bg-blue-50 px-3 py-2 rounded-lg text-center">
            Click to explore more details below ↓
          </div>
        </div>
      `);
      
      // Add marker to hero map
      const marker = new maplibregl.Marker(markerEl)
        .setLngLat([zipCode.lng, zipCode.lat])
        .setPopup(popup)
        .addTo(heroMap);
    });
  }
  
  function setupEventListeners() {
    // Apply filters button
    document.getElementById('applyFilters').addEventListener('click', function() {
      applyFilters();
    });
    
    // Select all filters button
    document.getElementById('selectAllFilters').addEventListener('click', function() {
      selectAllFilters();
    });
    
    // Clear all filters button
    document.getElementById('clearAllFilters').addEventListener('click', function() {
      clearAllFilters();
    });
    
    // View data table button
    document.getElementById('viewDataTable').addEventListener('click', function() {
      if (isEmailUnlocked) {
        showDataTable();
      } else {
        showEmailGate();
      }
    });
    
    // Download map button
    document.getElementById('downloadMap').addEventListener('click', function() {
      if (isEmailUnlocked) {
        downloadMap();
      } else {
        showEmailGate();
      }
    });
    
    // Download report button
    document.getElementById('downloadReport').addEventListener('click', function() {
      if (isEmailUnlocked) {
        downloadReport();
      } else {
        showEmailGate();
      }
    });
    
    // Close modals
    document.getElementById('closeDataTable').addEventListener('click', function() {
      document.getElementById('dataTableModal').classList.add('hidden');
    });
    
    document.getElementById('closeEmailGate').addEventListener('click', function() {
      document.getElementById('emailGateModal').classList.add('hidden');
    });
    
    // Email gate form submission
    document.getElementById('emailGateForm').addEventListener('submit', function(e) {
      e.preventDefault();
      unlockAccess();
    });
    
    // Close modals when clicking outside
    window.addEventListener('click', function(e) {
      if (e.target.id === 'dataTableModal') {
        document.getElementById('dataTableModal').classList.add('hidden');
      }
      if (e.target.id === 'emailGateModal') {
        document.getElementById('emailGateModal').classList.add('hidden');
      }
    });
  }
  
  function selectAllFilters() {
    // Select all checkboxes for each filter category
    const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
    allCheckboxes.forEach(cb => cb.checked = true);
  }
  
  function clearAllFilters() {
    // Clear all checkbox selections
    const allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
    allCheckboxes.forEach(cb => cb.checked = false);
  }
  
  function getSelectedFilters() {
    const filters = {
      gender: Array.from(document.querySelectorAll('.gender-filter:checked')).map(cb => cb.value),
      age: Array.from(document.querySelectorAll('.age-filter:checked')).map(cb => cb.value),
      ethnicity: Array.from(document.querySelectorAll('.ethnicity-filter:checked')).map(cb => cb.value),
      income: Array.from(document.querySelectorAll('.income-filter:checked')).map(cb => cb.value),
      education: Array.from(document.querySelectorAll('.education-filter:checked')).map(cb => cb.value)
    };
    
    return filters;
  }
  
  // Removed duplicate applyFilters function - using the one defined later in the file
  
  function showEmailGate() {
    document.getElementById('emailGateModal').classList.remove('hidden');
  }
  
  function unlockAccess() {
    const email = document.getElementById('gateEmail').value;
    const name = document.getElementById('gateName').value;
    
    if (email) {
      // Track email capture
      trackEvent('email_gate_unlocked', {
        user_email: email,
        user_name: name,
        feature: 'data_table_download'
      });
      
      isEmailUnlocked = true;
      document.getElementById('emailGateModal').classList.add('hidden');
      
      // Update button states
      document.getElementById('viewDataTable').classList.remove('bg-gray-200', 'text-gray-700');
      document.getElementById('viewDataTable').classList.add('bg-brand-green', 'text-white');
      document.getElementById('downloadMap').classList.remove('bg-gray-200', 'text-gray-700');
      document.getElementById('downloadMap').classList.add('bg-brand-green', 'text-white');
      document.getElementById('downloadReport').classList.remove('bg-gray-200', 'text-gray-700');
      document.getElementById('downloadReport').classList.add('bg-brand-green', 'text-white');
      
      // Show success message
      alert('Access unlocked! You can now view the data table and download options.');
    }
  }
  
  function showDataTable() {
    const modal = document.getElementById('dataTableModal');
    const content = document.getElementById('dataTableContent');
    
    // Generate data table HTML
    content.innerHTML = `
      <div class="overflow-x-auto">
        <table class="min-w-full divide-y divide-gray-200">
          <thead class="bg-gray-50">
            <tr>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Zip Code</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">City</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-xs font-medium text-gray-500 uppercase tracking-wider">State</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Concentration</th>
              <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Customers</th>
            </tr>
          </thead>
          <tbody class="bg-white divide-y divide-gray-200">
            ${sampleZipCodes.map(zip => `
              <tr>
                <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">${zip.zip}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${zip.city}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${zip.state}</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${(zip.concentration * 100).toFixed(0)}%</td>
                <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">${zip.customers.toLocaleString()}</td>
              </tr>
            `).join('')}
          </tbody>
        </table>
      </div>
    `;
    
    modal.classList.remove('hidden');
  }
  
  function downloadMap() {
    // In a real implementation, you would generate and download the map as an image
    alert('Map download functionality would be implemented here. This would capture the current map view and save it as an image.');
  }
  
  function downloadReport() {
    // In a real implementation, you would generate and download a PDF report
    alert('Report download functionality would be implemented here. This would generate a comprehensive PDF report with the data and insights.');
  }

  // Dropdown functionality for demographic filters
  document.addEventListener('DOMContentLoaded', function() {
    // Initialize dropdowns
    initializeDropdowns();
    
    // Add event listeners for existing functionality
    document.getElementById('selectAllFilters').addEventListener('click', selectAllFilters);
    document.getElementById('clearAllFilters').addEventListener('click', clearAllFilters);
    document.getElementById('applyFilters').addEventListener('click', applyFilters);
  });

  function initializeDropdowns() {
    const dropdowns = [
      { button: 'genderDropdown', options: 'genderOptions', display: 'genderDisplay', filterClass: 'gender-filter' },
      { button: 'ageDropdown', options: 'ageOptions', display: 'ageDisplay', filterClass: 'age-filter' },
      { button: 'ethnicityDropdown', options: 'ethnicityOptions', display: 'ethnicityDisplay', filterClass: 'ethnicity-filter' },
      { button: 'incomeDropdown', options: 'incomeOptions', display: 'incomeDisplay', filterClass: 'income-filter' },
      { button: 'educationDropdown', options: 'educationOptions', display: 'educationDisplay', filterClass: 'education-filter' }
    ];
    
    dropdowns.forEach(dropdown => {
      const button = document.getElementById(dropdown.button);
      const options = document.getElementById(dropdown.options);
      const display = document.getElementById(dropdown.display);
      const filterClass = dropdown.filterClass;
      
      if (!button || !options || !display) {
        console.log('Missing element for dropdown:', dropdown);
        return; // Skip if elements don't exist
      }
      
      // Toggle dropdown on button click
      button.addEventListener('click', function(e) {
        e.preventDefault();
        e.stopPropagation();
        
        const isOpen = options.classList.contains('show');
        
        // Close all other dropdowns first
        dropdowns.forEach(d => {
          const otherOptions = document.getElementById(d.options);
          const otherButton = document.getElementById(d.button);
          if (otherOptions && otherButton && d.options !== dropdown.options) {
            otherOptions.classList.remove('show');
            const arrow = otherButton.querySelector('svg');
            if (arrow) arrow.style.transform = 'rotate(0deg)';
          }
        });
        
        // Toggle current dropdown
        if (isOpen) {
          options.classList.remove('show');
          const arrow = button.querySelector('svg');
          if (arrow) arrow.style.transform = 'rotate(0deg)';
        } else {
          options.classList.add('show');
          const arrow = button.querySelector('svg');
          if (arrow) arrow.style.transform = 'rotate(180deg)';
        }
      });
      
      // Handle checkbox changes
      const checkboxes = options.querySelectorAll(`.${filterClass}`);
      checkboxes.forEach(checkbox => {
        checkbox.addEventListener('change', function() {
          updateDisplayText(display, filterClass);
        });
      });
    });
    
    // Close dropdowns when clicking outside
    document.addEventListener('click', function(e) {
      if (!e.target.closest('.relative')) {
        dropdowns.forEach(dropdown => {
          const options = document.getElementById(dropdown.options);
          const button = document.getElementById(dropdown.button);
          if (options && button) {
            options.classList.remove('show');
            const arrow = button.querySelector('svg');
            if (arrow) arrow.style.transform = 'rotate(0deg)';
          }
        });
      }
    });
  }

  function updateDisplayText(displayElement, filterClass) {
    if (!displayElement) return;
    
    const checkboxes = document.querySelectorAll(`.${filterClass}:checked`);
    if (checkboxes.length === 0) {
      const filterName = filterClass.split('-')[0];
      displayElement.textContent = `Select ${filterName.charAt(0).toUpperCase() + filterName.slice(1)}`;
    } else if (checkboxes.length === 1) {
      displayElement.textContent = checkboxes[0].nextElementSibling.textContent;
    } else {
      displayElement.textContent = `${checkboxes.length} selected`;
    }
  }

  function selectAllFilters() {
    // Select all checkboxes in each filter category
    document.querySelectorAll('.gender-filter, .age-filter, .ethnicity-filter, .income-filter, .education-filter').forEach(checkbox => {
      checkbox.checked = true;
    });
    
    // Update display text for all dropdowns
    updateDisplayText(document.getElementById('genderDisplay'), 'gender-filter');
    updateDisplayText(document.getElementById('ageDisplay'), 'age-filter');
    updateDisplayText(document.getElementById('ethnicityDisplay'), 'ethnicity-filter');
    updateDisplayText(document.getElementById('incomeDisplay'), 'income-filter');
    updateDisplayText(document.getElementById('educationDisplay'), 'education-filter');
  }

  function clearAllFilters() {
    // Clear all checkboxes in each filter category
    document.querySelectorAll('.gender-filter, .age-filter, .ethnicity-filter, .income-filter, .education-filter').forEach(checkbox => {
      checkbox.checked = false;
    });
    
    // Update display text for all dropdowns
    updateDisplayText(document.getElementById('genderDisplay'), 'gender-filter');
    updateDisplayText(document.getElementById('ageDisplay'), 'age-filter');
    updateDisplayText(document.getElementById('ethnicityDisplay'), 'ethnicity-filter');
    updateDisplayText(document.getElementById('incomeDisplay'), 'income-filter');
    updateDisplayText(document.getElementById('educationDisplay'), 'education-filter');
  }

  function getSelectedFilters() {
    const filters = {
      gender: Array.from(document.querySelectorAll('.gender-filter:checked')).map(cb => cb.value),
      age: Array.from(document.querySelectorAll('.age-filter:checked')).map(cb => cb.value),
      ethnicity: Array.from(document.querySelectorAll('.ethnicity-filter:checked')).map(cb => cb.value),
      income: Array.from(document.querySelectorAll('.income-filter:checked')).map(cb => cb.value),
      education: Array.from(document.querySelectorAll('.education-filter:checked')).map(cb => cb.value)
    };
    
    return filters;
  }

  function applyFilters() {
    const selectedFilters = getSelectedFilters();
    
    // Check if at least one option is selected in each category
    const hasValidSelection = Object.values(selectedFilters).every(category => category.length > 0);
    
    if (!hasValidSelection) {
      alert('Please select at least one option from each filter category.');
      return;
    }
    
    console.log('Filters applied:', selectedFilters);
    
    // Track filter application
    trackEvent('demographics_filters_applied', {
      gender_count: selectedFilters.gender.length,
      age_count: selectedFilters.age.length,
      ethnicity_count: selectedFilters.ethnicity.length,
      income_count: selectedFilters.income.length,
      education_count: selectedFilters.education.length
    });
    
    // Get zip code data based on filters using the map functionality
    if (window.appController && window.appController.map) {
      // Use the app controller to handle filters
      window.appController.handleFilterSubmit();
    } else {
      console.log('Map functionality not yet initialized');
    }
    
    // Show success message
    alert('Filters applied successfully! The map and data table will update to show data matching your selected demographics.');
  }

  // Add zip code markers to the map
  function addZipCodeMarkers(zipCodeData) {
    if (!map || !zipCodeData || !zipCodeData.top_50_percent) return;

    // Clear existing markers
    const existingMarkers = document.querySelectorAll('.zip-marker');
    existingMarkers.forEach(marker => marker.remove());

    const zipCodes = zipCodeData.top_50_percent.zip_codes;
    
    zipCodes.forEach((zipCode, index) => {
      if (!zipCode.latitude || !zipCode.longitude) return;

      // Create marker element
      const markerEl = document.createElement('div');
      markerEl.className = 'zip-marker';
      markerEl.style.width = '20px';
      markerEl.style.height = '20px';
      markerEl.style.borderRadius = '50%';
      markerEl.style.backgroundColor = '#10B981';
      markerEl.style.border = '2px solid white';
      markerEl.style.boxShadow = '0 2px 4px rgba(0,0,0,0.3)';
      markerEl.style.cursor = 'pointer';

      // Create popup
      const popup = new maplibregl.Popup({
        offset: 25,
        closeButton: false,
        closeOnClick: false
      }).setHTML(`
        <div class="p-3">
          <h4 class="font-semibold text-gray-800">Zip Code: ${zipCode.zip_code}</h4>
          <p class="text-sm text-gray-600">Population: ${zipCode.population.toLocaleString()}</p>
          <p class="text-sm text-gray-600">Median Age: ${zipCode.median_age || 'N/A'}</p>
          <p class="text-sm text-gray-600">Median Income: $${(zipCode.median_income || 0).toLocaleString()}</p>
        </div>
      `);

      // Create and add marker
      const marker = new maplibregl.Marker(markerEl)
        .setLngLat([zipCode.longitude, zipCode.latitude])
        .setPopup(popup)
        .addTo(map);

      // Show popup on hover
      markerEl.addEventListener('mouseenter', () => {
        marker.getPopup().addTo(map);
      });

      markerEl.addEventListener('mouseleave', () => {
        marker.getPopup().remove();
      });
    });

    // Fit map to show all markers
    if (zipCodes.length > 0) {
      const bounds = new maplibregl.LngLatBounds();
      zipCodes.forEach(zipCode => {
        if (zipCode.latitude && zipCode.longitude) {
          bounds.extend([zipCode.longitude, zipCode.latitude]);
        }
      });
      
      if (!bounds.isEmpty()) {
        map.fitBounds(bounds, {
          padding: 50,
          maxZoom: 10
        });
      }
    }
  }
</script>
</body>
</html>